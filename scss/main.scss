@tailwind base;
@tailwind components;
@tailwind utilities;

// fonts
@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-Bold.woff2") format("woff2"),
    url("../fonts/F37Blanka-Bold.woff") format("woff");
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-BoldItalic.woff2") format("woff2"),
    url("../fonts/F37Blanka-BoldItalic.woff") format("woff");
  font-weight: bold;
  font-style: italic;
  font-display: swap; 
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-LightItalic.woff2") format("woff2"),
    url("../fonts/F37Blanka-LightItalic.woff") format("woff");
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-MediumItalic.woff2") format("woff2"),
    url("../fonts/F37Blanka-MediumItalic.woff") format("woff");
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-Medium.woff2") format("woff2"),
    url("../fonts/F37Blanka-Medium.woff") format("woff");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-Light.woff2") format("woff2"),
    url("../fonts/F37Blanka-Light.woff") format("woff");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-SemiBold.woff2") format("woff2"),
    url("../fonts/F37Blanka-SemiBold.woff") format("woff");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-Regular.woff2") format("woff2"),
    url("../fonts/F37Blanka-Regular.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-SemiBoldItalic.woff2") format("woff2"),
    url("../fonts/F37Blanka-SemiBoldItalic.woff") format("woff");
  font-weight: 600;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "F37 Blanka";
  src:
    url("../fonts/F37Blanka-RegularItalic.woff2") format("woff2"),
    url("../fonts/F37Blanka-RegularItalic.woff") format("woff");
  font-weight: normal;
  font-style: italic;
  font-display: swap;
}

// color---------------------------------------
$red: #eb2127;
$orange: #f37321;
$yellow: #f99c1c;
$green: #5a6d46;
$black: #333333;
$grey: #e5e5e5;
$white: #ffffff;

// type-----------------------------------------
$base: "F37 Blanka", helvetica, sans-serif !important;

html {
  -webkit-font-smoothing: antialiased;
}
body {
  scroll-behavior: smooth;
  box-sizing: border-box;
  margin: 0;
  transition: background-color .8s ease;
  &.red {
    *::selection {
      background-color: $grey;
    }
    .testimonials-content * {
      color: $white;
    }
  }
}
* {
  box-sizing: border-box;
  -ms-overflow-style: none !important;
  scrollbar-width: none !important;
}
*::-webkit-scrollbar {
  display: none !important;
  width: 0;
  background: transparent;
}
*::selection {
  background-color: $red;
}
.no-scroll {
  overflow: hidden;
}
.no-footer footer {
  display: none;
}
.noselect {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Old versions of Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
}
.anchor-overlay {
  z-index: 2;
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}
a,
a:hover {
  text-decoration: none;
}
ul {
  margin-block-start: 0;
  margin-block-end: 0;
  margin-inline-start: 0;
  margin-inline-end: 0;
  padding-inline-start: 0;
}
img,
picture,
figure {
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -o-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  -ms-user-drag: none;
  user-drag: none;
}
.scroll {
  overflow: scroll;
}
.lock {
  overflow: hidden;
}
.progress-bar {
  // height: 10px;
  // background: $grey;
  z-index: 4;
  border-radius: 20px;

  .progress {
    border-radius: 20px;
    will-change: width;
    width: 0%;
    height: 100%;
    // background-color: $red;
  }
}
.background {
  img,
  video {
    object-fit: cover;
    width: 100%;
    height: 100%;
    top: 0;
    position: absolute;
    left: 0;
  }
}

// scroll fade in animation
.fade-in {
  opacity: 0;
  transform: translateY(20px);
  transition:
    opacity 0.8s,
    transform 0.8s;
}

.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

.fade-in.fade-in--offscreen {
  opacity: 0 !important;
  transform: translateY(20px) !important;
}

.fade-in[data-cascade] {
  transition-delay: calc(var(--animation-order) * 0.1s) !important;
}

* {
  -webkit-font-smoothing: antialiased;
  font-family: $base;
}

@layer utilities {
  // page container
  .page {
    @apply mx-auto w-full;
    max-width: theme("maxWidth.page");
    padding-left: theme("spacing.p-default");
    padding-right: theme("spacing.p-default");

    @screen sm {
      padding-left: theme("spacing.p-sm");
      padding-right: theme("spacing.p-sm");
    }

    @screen lg {
      padding-left: theme("spacing.p-lg");
      padding-right: theme("spacing.p-lg");
    }
  }
  .sm-page {
    @apply mx-auto w-full;
    max-width: theme("maxWidth.page");
    padding-left: 0;
    padding-right: 0;

    @screen sm {
      padding-left: theme("spacing.p-sm");
      padding-right: theme("spacing.p-sm");
    }

    @screen lg {
      padding-left: theme("spacing.p-lg");
      padding-right: theme("spacing.p-lg");
    }
  }

  // slider-wrapper
  .slider-wrapper {
    @apply relative;
    margin-left: calc(theme("spacing.p-default") * -1);
    margin-right: calc(theme("spacing.p-default") * -1);

    @screen sm {
      margin-left: calc(theme("spacing.p-sm") * -1);
      margin-right: calc(theme("spacing.p-sm") * -1);
    }

    @screen lg {
      margin-left: calc(theme("spacing.p-lg") * -1);
      margin-right: calc(theme("spacing.p-lg") * -1);
    }

    @screen 2xl {
      margin-left: calc(
        calc((100vw - theme("maxWidth.page")) / 2 + theme("spacing.p-lg")) * -1
      );
      margin-right: calc(
        calc((100vw - theme("maxWidth.page")) / 2 + theme("spacing.p-lg")) * -1
      );
    }

    // slider
    .slider {
      @apply flex space-x-6 overflow-x-auto overflow-y-hidden snap-x;
      padding-left: theme("spacing.p-default");
      padding-right: theme("spacing.p-default");

      @screen sm {
        padding-left: theme("spacing.p-sm");
        padding-right: theme("spacing.p-sm");
      }

      @screen lg {
        padding-left: theme("spacing.p-lg");
        padding-right: theme("spacing.p-lg");
      }

      @screen 2xl {
        padding-left: calc(
          (100vw - theme("maxWidth.page")) / 2 + theme("spacing.p-lg")
        );
        padding-right: calc(
          (100vw - theme("maxWidth.page")) / 2 + theme("spacing.p-lg")
        );
      }
    }

    // slide
    .slide {
      @apply snap-start;
      scroll-margin-left: theme("spacing.p-default");

      @screen sm {
        scroll-margin-left: theme("spacing.p-sm");
      }

      @screen lg {
        scroll-margin-left: theme("spacing.p-lg");
      }

      @screen 2xl {
        scroll-margin-left: calc(
          (100vw - theme("maxWidth.page")) / 2 + theme("spacing.p-lg")
        );
      }
    }
    &.history {
      @apply ml-0;
      .slider {
        @apply pl-0;
        .slide {
          scroll-margin-left: unset;
        }
      }
    }
  }
}
.slider-shadow {
  position: relative;
  &:after,
  &:before {
    content: "";
    @apply h-full w-4 bg-gradient-to-l from-white/100 to-transparent absolute;
  }
  &:before {
    @apply left-0;
  }
  &:after {
    @apply right-0;
  }
}

@media (max-width: 1024px) {
  .slider-shadow {
    &:after,
    &:before {
      content: unset;
    }
  }
}

.grid {
  row-gap: 0;
  column-gap: 1.5em;
}
@layer base {
  h1,
  h2,
  h3,
  h4,
  .text-sm {
    @apply font-medium;
    letter-spacing: -0.045em;
    position: relative;
    left: -0.05em;
  }
  h1 {
    @apply text-6xl;
  }

  h2 {
    @apply text-4xl;
  }

  h3 {
    @apply text-3xl;
  }

  h4 {
    @apply text-2xl;
  }
  @screen sm {
    h1 {
      @apply text-6xl;
    }

    h2 {
      @apply text-5xl;
    }

    h3 {
      @apply text-4xl;
    }

    h4 {
      @apply text-3xl;
    }
  }
  @screen md {
    h1 {
      @apply text-6xl;
    }

    h2 {
      @apply text-5xl;
    }

    h3 {
      @apply text-4xl;
    }

    h4 {
      @apply text-3xl;
    }
  }
  @screen lg {
    h1 {
      @apply text-7xl;
    }

    h2 {
      @apply text-5xl;
    }

    h3 {
      @apply text-4xl;
    }

    h4 {
      @apply text-3xl;
    }
    p {
      @apply text-base;
    }
  }
  @screen xl {
    h1 {
      @apply text-8xl; /* Default for larger screens */
    }

    h2 {
      @apply text-6xl;
    }

    h3 {
      @apply text-4xl;
    }

    h4 {
      @apply text-3xl;
    }
    p {
      @apply text-lg;
    }
  }
}

.banner {
  .background,
  .carousel {
    @apply absolute top-0 left-0 h-full w-full;
  }
  .carousel {
    &.gradient:before {
      @apply z-4;
    }
    .carousel-item {
      &.active {
        @apply z-3 opacity-100;
      }
    }
  }
}

// nav
#main-nav {
  &.scrolled {
    @apply -translate-y-[125px];
  }

  .secondary-links {
    @apply invisible pointer-events-none;
    transform: translateY(-5px);
    transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
    &:after {
      background-color: $red;
      content: '';
      height: 0;
      width: 100%;
      position: absolute;
      z-index: -1;
      top: 0;
      transition: .3s ease;
      @apply rounded-bl-xl rounded-br-xl;
    }
  }

  .primary-links > li:hover {
    .secondary-links {
      @apply visible opacity-100 pointer-events-auto;
      transform: translateY(0);
    }
  }

  .active {
    .secondary-links {
      @apply visible opacity-100 pointer-events-auto;
      transform: translateY(0);
      &:after {
        height: 100%
      }
      li {
        @apply opacity-100;
      }
    }
  }

  /* ✅ Fix: Smooth transition when switching menus */
  .secondary-links.fade-out {
    opacity: 0;
    transform: translateY(-5px);
    pointer-events: none;
  }
}

.bg-yellow-dark {
  background-color: #db8815;
}
.bg-red-dark {
  background-color: #b7171c;
}

// red
body.red {
  .testimonials,
  .fui-submit,
  .form-side,
  #mobile-menu {
    @apply bg-red;
  }
}
.tab-btn.active {
  @apply text-red border-red !important;
}
.btn.text-red .btn-arrow svg * {
  @apply stroke-red;
}

// yellow
body.yellow {
  .btn,
  nav .inner,
  footer,
  #main-nav .secondary-links:after,
  .testimonials,
  *::selection,
  .fui-submit,
  .form-side,
  #mobile-menu,
  .progress {
    @apply bg-yellow;
  }
  .tab-btn.active {
    @apply text-yellow border-yellow !important;
  }
}
.btn.text-yellow svg * {
  @apply stroke-yellow;
}
.btn.text-yellow .btn-arrow svg * {
  @apply stroke-yellow;
}

// green
body.green {
  @apply bg-green;
  footer,
  .form-side,
  .fui-submit {
    @apply bg-green;
  }
  *::selection,
  nav .inner,
  #main-nav .secondary-links:after,
  #mobile-menu,
  .progress {
    @apply bg-green-dark;
  }
  footer svg * {
    @apply fill-white;
  }
}
.btn.text-green .btn-arrow svg * {
  @apply stroke-green;
}

// light green
body.green-light {
  @apply bg-green-light;
  footer,
  .form-side,
  .fui-submit {
    @apply bg-green-light;
  }
  *::selection,
  nav .inner,
  #main-nav .secondary-links:after,
  #mobile-menu,
  .progress {
    @apply bg-green;
  }
  footer svg * {
    @apply fill-white;
  }
}
.btn.text-green-light .btn-arrow svg * {
  @apply stroke-green-light;
}

// dark green
body.green-dark {
  @apply bg-green-dark;
  footer,
  .form-side,
  .fui-submit {
    @apply bg-green-dark;
  }
  *::selection,
  nav .inner,
  #main-nav .secondary-links:after,
  #mobile-menu,
  .progress {
    @apply bg-green-light;
  }
  footer svg * {
    @apply fill-white;
  }
}
.btn.text-green-dark .btn-arrow svg * {
  @apply stroke-green-dark;
}

// banner
.progress-bar {
  @apply h-2 lg:h-3;
}

.banner.entry-type-landServices {
  @apply bg-transparent flex-col h-auto overflow-visible pt-40  pb-6 lg:pb-16 xl:pb-40;
  .text {
    @apply sticky top-40;
  }
  .background {
    @apply page relative h-svh mx-auto;
  }

  .carousel {
    @apply rounded-xl overflow-hidden;
  }
  .background,
  .carousel,
  .carousel img {
    @apply relative;
  }
}

// slider {
.slider {
  picture,
  picture img {
    @apply h-full w-full object-cover;
  }
}

// buttons
.btn {
  @apply tracking-tight px-[25px] py-[15px] lg:px-[30px] lg:py-[18px] bg-red rounded-md gap-[40px] w-fit relative inline-flex items-center cursor-pointer text-[.9rem] lg:text-base font-medium border-none whitespace-nowrap transition-all hover:brightness-110;
}

.btn.btn-inline {
  @apply gap-4 p-0 bg-transparent;
  .label {
    @apply text-charcoal tracking-tighter;
  }
}

.btn.icon {
  @apply justify-center items-center p-6 rounded-full bg-red text-[1.4rem];
}
#main-nav .btn.icon {
  @apply p-0;
}

.btn .btn-arrow {
  @apply relative -bottom-[0.5px] inline-flex justify-center items-center w-[18px] h-[18px] bg-contain bg-no-repeat overflow-hidden;
}
.btn:not(.icon) .btn-arrow { 
  @apply rotate-[-45deg];
}

.btn .btn-arrow svg {
  @apply absolute transition-transform will-change-transform;
}

.btn .btn-arrow svg:first-of-type {
  @apply translate-x-0 translate-y-0;
}

.btn .btn-arrow svg:last-of-type {
  @apply translate-x-[-115%] translate-y-0;
}

.btn:hover .btn-arrow svg:first-of-type {
  @apply translate-x-[115%] translate-y-0;
}

.btn:hover .btn-arrow svg:last-of-type {
  @apply translate-x-0 translate-y-0;
}

.btn .btn-arrow *,
.btn.icon * {
  @apply stroke-white;
}

.btn .btn-arrow .red-arrow * {
  @apply stroke-red;
}

.btn .btn-arrow .white-arrow * {
  @apply stroke-white;
}

.btn .btn-arrow .black-arrow * {
  @apply stroke-black;
}
.outline-hover {
  @apply hover:outline -outline-offset-[3px]  outline-[3px] outline-red;
}

// land ownership blocks
.color-hover:hover {
  .background {
    @apply opacity-0;
  }
  .gradient {
    @apply from-black/60;
  }
}

// real estate and modals
// map animations
#map-wrapper {
  @apply transition-[padding] duration-300 ease-in-out;

  &.expand {
    @apply pt-[50px];
  }
}

#modal {
  @apply pt-[50px] opacity-0 pointer-events-none transition-opacity duration-300 ease-in-out;
}

#modal:before {
  content: "";
  @apply fixed top-0 left-0 h-screen w-screen bg-white opacity-0 pointer-events-none transition-opacity duration-300 ease-in-out;
}

#modal-image-container {
  .slide:first-of-type {
    @apply ml-16;
  }

  .slide:last-of-type {
    @apply mr-6;
  }
}

#modal-image-container-wrapper.single {
  .slide {
    @apply max-w-none m-0 flex-1 !important;
  }
  .arrow-wrapper,
  &:after {
    content: unset;
    @apply hidden;
  }
}

/* Modal visible state */
#modal.show {
  @apply opacity-100 pointer-events-auto;
}

#modal.show:before {
  @apply opacity-100;
}

.contact-modal {
  .close svg * {
    @apply stroke-red !important;
  }
}

#photo-modal {
  @apply opacity-0 pointer-events-none transition-opacity duration-300 ease-in-out;
}

#photo-modal.show {
  @apply opacity-100 pointer-events-auto;
}

.photo-slide {
  @apply absolute opacity-0 transition-opacity duration-300 ease-in-out transform transition-transform;
}

.photo-slide.active {
  @apply opacity-100 translate-x-0 !important;
}

.photo-slide.left {
  @apply -translate-x-full;
}

.photo-slide.right {
  @apply translate-x-full;
}

.leaflet-popup.custom-popup {
  .leaflet-popup-content-wrapper {
    @apply rounded-xl bg-white p-4 shadow-md;
  }
}

.tooltip-content {
  @apply space-y-3;
}

.leaflet-control {
  @apply hidden gap-x-2;
}

.leaflet-control-zoom-in,
.leaflet-control-zoom-out {
  @apply bg-red text-white border-none rounded-full w-10 h-10 leading-[40px] text-center text-[18px] shadow-md transition-colors duration-300;

  &:hover {
    @apply bg-red-dark;
  }
}

@screen sm {
  .leaflet-control {
    display: none !important;
  }
}
@screen md {
  .leaflet-control {
    display: none !important;
  }
}
@screen lg {
  .leaflet-control {
    display: flex !important;
  }
}
@screen xl {
  .leaflet-control {
    display: flex !important;
  }
}

// form
.fui-submit {
  @apply tracking-tight w-full px-[25px] py-[15px] lg:px-[30px] lg:py-[18px] rounded-md gap-[40px] relative items-center cursor-pointer text-[.9rem] lg:text-base font-medium border-none whitespace-nowrap transition-all hover:brightness-110 border-none border-0 !important;
}
.fui-form {
  @apply w-full;
}
.fui-form h6 {
  @apply mb-4 text-base xl:text-lg;
}
.contact-modal {
  .fui-label *,
  .fui-label {
    @apply text-white;
  }
  .fui-submit {
    @apply bg-white text-red;
    &:hover {
      @apply bg-white brightness-95 text-red;
    }
  }
}

.testimonials {
  .carousel {
    .carousel-item {
      @apply hidden opacity-0 invisible transition-opacity duration-1000 ease-in-out;

      &.active {
        @apply block opacity-100 visible !important;
      }

      &.fade-in {
        @apply opacity-100;
        visibility: visible;
      }

      &.fade-out {
        @apply opacity-0 invisible;
      }
    }
  }
}

#hamburger {
  @apply relative cursor-pointer;

  .line {
    @apply h-[2px] w-full bg-white absolute transition-all duration-300;
    transform-origin: center;
  }

  // Animate State
  &.animate {
    .middle {
      animation: hamburger-animation-fade 0.6s forwards;
    }
    .top {
      animation: hamburger-animation 0.6s forwards;
    }
    .bottom {
      animation: hamburger-animation-reverse 0.6s forwards;
    }
  }

  // Reverse animation
  &.animate.reverse {
    .middle {
      animation-direction: reverse;
    }
    .top,
    .bottom {
      animation-direction: reverse;
    }
  }
}

// Keyframes for Animation
@keyframes hamburger-animation {
  0% {
    transform: translateY(0) rotate(0);
  }
  50% {
    transform: translateY(7px) rotate(0);
  }
  100% {
    transform: translateY(7px) rotate(45deg);
  }
}

@keyframes hamburger-animation-reverse {
  0% {
    transform: translateY(0) rotate(0);
  }
  50% {
    transform: translateY(-7px) rotate(0);
  }
  100% {
    transform: translateY(-7px) rotate(-45deg);
  }
}

@keyframes hamburger-animation-fade {
  0% {
    opacity: 1;
  }
  49% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

// sticky blocks
.sticky-blocks p {
  @apply text-base !important;
}
