{% set columnSpan = slide.columnSpan ?? 4 %}
{% set color = slide.color %}
{% set hasBackground = slide.asset|length > 0 %}

<div class="max-lg:!max-w-[500px] max-lg:!w-[calc(100%-20px)] flex-none slide"
    style="width: calc(100% * ({{ columnSpan }}/12) - 1rem); max-width: calc(100% * ({{ columnSpan }}/12) - 1rem);">
    
    <div class="rounded-xl overflow-hidden h-full relative bg-{{ color }}">
        {% if hasBackground %}
            {% include '_includes/_blocks/gradient' with { 
                height: '1/2', opacity: 40
            } %}
            {% include '_includes/_blocks/asset' with {
                asset: slide.asset.one()
            } %}
        {% endif %}

        <div class="w-full absolute z-2 space-y-4 p-8 bottom-0 text-white">
            {% if slide.title|length %}
                <h3 class="text-4xl">{{ slide.title }}</h3>
            {% endif %}
            {% if slide.text|length %}
                {% include '_includes/_blocks/text' with {
                    text: slide.text,
                    pClass: 'col-span-12 text-base max-w-[275px] w-full'
                } %}
            {% endif %}
            {% if slide.buttonLink|length %}
                {% include '_includes/_blocks/button' with {
                    link: slide.buttonLink,
                    label: slide.buttonLabel,
                    class: '!bg-white !text-' ~ color ~' text-' ~ color
                } %}
            {% endif %}
        </div>
    </div>
</div>