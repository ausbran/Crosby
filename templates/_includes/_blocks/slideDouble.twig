{% set columnSpan = slide.columnSpan ?? 4 %}
{% set color = slide.color %}

<div class="slide max-lg:!max-w-[1000px] max-lg:gap-x-4 max-lg:!w-[calc(200%-20px)] flex-none flex flex-row lg:flex-col gap-y-4 lg:gap-y-6" 
    style="width: calc(100% * ({{ columnSpan }}/12) - 1rem); max-width: calc(100% * ({{ columnSpan }}/12) - 1rem);">

    {% for i in [1, 2] %}
        {% set titleKey = i == 1 ? 'title' : 'title2' %}
        {% set textKey = i == 1 ? 'text' : 'text2' %}
        {% set buttonLinkKey = i == 1 ? 'buttonLink' : 'buttonLink2' %}
        {% set buttonLabelKey = i == 1 ? 'buttonLabel' : 'buttonLabel2' %}
        {% set assetKey = i == 1 ? 'asset' : 'asset2' %}

        <div class="rounded-xl overflow-hidden relative max-lg:w-1/2 h-full lg:h-1/2 bg-{{ color }}">
            {% if attribute(slide, assetKey)|length %}
                {% include '_includes/_blocks/gradient' with { height: '1/2', opacity: 40 } %}
                {% include '_includes/_blocks/asset' with { asset: attribute(slide, assetKey).one() } %}
            {% endif %}
            
            <div class="w-full absolute z-2 space-y-4 p-8 bottom-0 text-white">
                {% if attribute(slide, titleKey)|length %}
                    <h3 class="text-4xl">{{ attribute(slide, titleKey) }}</h3>
                {% endif %}
                
                {% if attribute(slide, textKey)|length %}
                    {% include '_includes/_blocks/text' with {
                        text: attribute(slide, textKey),
                        pClass: 'col-span-12 text-base max-w-[275px] w-full'
                    } %}
                {% endif %}
                
                {% if attribute(slide, buttonLinkKey)|length %}
                    {% include '_includes/_blocks/button' with {
                        link: attribute(slide, buttonLinkKey),
                        label: attribute(slide, buttonLabelKey),
                        class: '!bg-white !text-' ~ color ~' text-' ~ color
                    } %}
                {% endif %}
            </div>
        </div>
    {% endfor %}
</div>